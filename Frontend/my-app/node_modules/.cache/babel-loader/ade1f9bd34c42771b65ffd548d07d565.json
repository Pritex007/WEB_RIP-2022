{"ast":null,"code":"import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nexport const postOrder = async order => {\n  console.log(order);\n  const config = {\n    withCredentials: true,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'X-CSRFToken': Cookies.get('csrftoken'),\n      'sessionid': Cookies.get('sessionid')\n    }\n  };\n  axios.post('http://localhost:8000/api/orders/', order, config).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n    alert(\"Произошла ошибка при отправке.\\nВозможно, вы не выбрали одно из полей.\");\n  });\n};\nexport const changeTruck = async truck => {\n  console.log(truck);\n  const config = {\n    withCredentials: true,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'X-CSRFToken': Cookies.get('csrftoken'),\n      'sessionid': Cookies.get('sessionid')\n    }\n  };\n  axios.put('http://localhost:8000/api/orders/', order, config).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n    alert(\"Произошла ошибка при отправке.\\nВозможно, вы не выбрали одно из полей.\");\n  });\n};\nexport const fetchTrucks = async (min, max) => {\n  const res = await fetch(`http://localhost:8000/api/cars/?price_min=${min}&price_max=${max}`).then(response => {\n    return response.json();\n  }).catch(() => {\n    return {\n      resultCount: 0,\n      results: []\n    };\n  });\n  console.log(res);\n  return res;\n};\n\n// export const fetchBrands = async (tempTrucks) => {\n//     const res = []\n//     console.log(tempTrucks)\n//     for (const element of tempTrucks) {\n//         const tempRes = await fetch(`http://localhost:8000/api/brands/${element.brand}`)\n//             .then((response) => {\n//                 return response.json();\n//             }).catch(() => {\n//                 return {resultCount: 0, results: []}\n//             })\n//         res.push(tempRes.title)\n//     }\n//     console.log(res)\n//     return res\n// }\n\nexport const fetchTruck = async truckID => {\n  const res = await fetch(`http://localhost:8000/api/cars/${truckID}`).then(response => {\n    return response.json();\n  }).catch(() => {\n    return {\n      resultCount: 0,\n      results: []\n    };\n  });\n  console.log(\"fetchTruck\");\n  console.log(res);\n  return res;\n};\n\n// export const fetchBrand = async (brandID) => {\n//     const res = await fetch(`http://localhost:8000/api/brands/${brandID}`)\n//         .then((response) => {\n//             return response.json();\n//         }).catch(()=>{\n//             return {resultCount:0, results:[]}\n//         })\n//     console.log(\"fetchBrand\")\n//     console.log(res)\n//     return res\n// }\n\nexport const fetchOrders = async userID => {\n  // var res = await fetch(`http://localhost:8000/api/orders`)\n  //     .then((response) => {\n  //         return response.json();\n  //     }).catch(()=>{\n  //         return {resultCount:0, results:[]}\n  //     })\n  // res = res.filter(order => order.userProfile == userID)\n  // res = res.sort((a,b) => a.time < b.time)\n  // console.log(\"fetchOrders\")\n  // console.log(res)\n  // return res\n\n  const config = {\n    withCredentials: true,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'X-CSRFToken': Cookies.get('csrftoken'),\n      'sessionid': Cookies.get('sessionid')\n    }\n  };\n  var res = await axios.get('http://localhost:8000/api/orders/', config).then(function (response) {\n    console.log(\"ORDER\", response);\n    return response.data;\n  }).catch(function (error) {\n    console.log(error);\n    return {\n      resultCount: 0,\n      results: []\n    };\n    alert(\"Произошла ошибка при отправке.\\nВозможно, вы не выбрали одно из полей.\");\n  });\n  console.log(\"RESULT ARRAY ORDER\", res);\n  console.log(\"MY USERID\", userID);\n  res = res.filter(order => order.userProfile == userID);\n  res = res.sort((a, b) => a.time < b.time);\n  console.log(res);\n  return res;\n};","map":{"version":3,"names":["axios","Cookies","postOrder","order","console","log","config","withCredentials","headers","get","post","then","response","catch","error","alert","changeTruck","truck","put","fetchTrucks","min","max","res","fetch","json","resultCount","results","fetchTruck","truckID","fetchOrders","userID","data","filter","userProfile","sort","a","b","time"],"sources":["C:/Users/prite/WebstormProjects/lab4/my-app/src/Supporting Files/NetworkRequests.js"],"sourcesContent":["import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport const postOrder = async (order) => {\r\n    console.log(order)\r\n\r\n    const config = {\r\n        withCredentials: true,\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'X-CSRFToken': Cookies.get('csrftoken'),\r\n            'sessionid': Cookies.get('sessionid')\r\n        }\r\n    };\r\n\r\n    axios.post('http://localhost:8000/api/orders/', order, config)\r\n        .then(function (response) {\r\n            console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n            alert(\"Произошла ошибка при отправке.\\nВозможно, вы не выбрали одно из полей.\")\r\n        });\r\n}\r\n\r\nexport const changeTruck = async (truck) => {\r\n    console.log(truck)\r\n\r\n    const config = {\r\n        withCredentials: true,\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'X-CSRFToken': Cookies.get('csrftoken'),\r\n            'sessionid': Cookies.get('sessionid')\r\n        }\r\n    };\r\n\r\n    axios.put('http://localhost:8000/api/orders/', order, config)\r\n        .then(function (response) {\r\n            console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n            alert(\"Произошла ошибка при отправке.\\nВозможно, вы не выбрали одно из полей.\")\r\n        });\r\n}\r\n\r\nexport const fetchTrucks = async (min, max) => {\r\n    const res = await fetch(`http://localhost:8000/api/cars/?price_min=${min}&price_max=${max}`)\r\n        .then((response) => {\r\n            return response.json();\r\n        }).catch(() => {\r\n            return {resultCount: 0, results: []}\r\n        })\r\n    console.log(res)\r\n    return res\r\n}\r\n\r\n// export const fetchBrands = async (tempTrucks) => {\r\n//     const res = []\r\n//     console.log(tempTrucks)\r\n//     for (const element of tempTrucks) {\r\n//         const tempRes = await fetch(`http://localhost:8000/api/brands/${element.brand}`)\r\n//             .then((response) => {\r\n//                 return response.json();\r\n//             }).catch(() => {\r\n//                 return {resultCount: 0, results: []}\r\n//             })\r\n//         res.push(tempRes.title)\r\n//     }\r\n//     console.log(res)\r\n//     return res\r\n// }\r\n\r\nexport const fetchTruck = async (truckID) => {\r\n    const res = await fetch(`http://localhost:8000/api/cars/${truckID}`)\r\n        .then((response) => {\r\n            return response.json();\r\n        }).catch(() => {\r\n            return {resultCount: 0, results: []}\r\n        })\r\n    console.log(\"fetchTruck\")\r\n    console.log(res)\r\n    return res\r\n}\r\n\r\n// export const fetchBrand = async (brandID) => {\r\n//     const res = await fetch(`http://localhost:8000/api/brands/${brandID}`)\r\n//         .then((response) => {\r\n//             return response.json();\r\n//         }).catch(()=>{\r\n//             return {resultCount:0, results:[]}\r\n//         })\r\n//     console.log(\"fetchBrand\")\r\n//     console.log(res)\r\n//     return res\r\n// }\r\n\r\nexport const fetchOrders = async (userID) => {\r\n    // var res = await fetch(`http://localhost:8000/api/orders`)\r\n    //     .then((response) => {\r\n    //         return response.json();\r\n    //     }).catch(()=>{\r\n    //         return {resultCount:0, results:[]}\r\n    //     })\r\n    // res = res.filter(order => order.userProfile == userID)\r\n    // res = res.sort((a,b) => a.time < b.time)\r\n    // console.log(\"fetchOrders\")\r\n    // console.log(res)\r\n    // return res\r\n\r\n    const config = {\r\n        withCredentials: true,\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'X-CSRFToken': Cookies.get('csrftoken'),\r\n            'sessionid': Cookies.get('sessionid')\r\n        }\r\n    };\r\n\r\n    var res = await axios.get('http://localhost:8000/api/orders/', config)\r\n        .then(function (response) {\r\n            console.log(\"ORDER\", response);\r\n            return response.data;\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n            return {resultCount:0, results:[]}\r\n            alert(\"Произошла ошибка при отправке.\\nВозможно, вы не выбрали одно из полей.\")\r\n        });\r\n    console.log(\"RESULT ARRAY ORDER\", res);\r\n\r\n    console.log(\"MY USERID\", userID)\r\n    res = res.filter(order => order.userProfile == userID)\r\n    res = res.sort((a,b) => a.time < b.time)\r\n    console.log(res)\r\n\r\n    return res\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}